{"version":3,"file":"wizard-substep.component.js","sourceRoot":"","sources":["../../../../build/src/app/wizard/wizard-substep.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  EventEmitter,\n  Host,\n  Input,\n  OnInit,\n  Output,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\n\nimport { WizardEvent } from './wizard-event';\nimport { WizardStep } from './wizard-step';\nimport { WizardStepConfig } from './wizard-step-config'\nimport { WizardStepComponent } from './wizard-step.component';\n\nimport { cloneDeep, defaults, isEqual } from 'lodash';\n\n/**\n * Wizard substep component.\n *\n * Note: This component is expected to be a child of wizard-step.\n */\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  selector: 'pfng-wizard-substep',\n  template: `<ng-content *ngIf=\"selected\"></ng-content>`\n})\nexport class WizardSubstepComponent implements OnInit, WizardStep {\n  /**\n   * The wizard step config containing component properties\n   */\n  @Input() config: WizardStepConfig;\n\n  /**\n   * The wizard substep template used for the review details screen\n   */\n  @Input() reviewTemplate: TemplateRef<any>;\n\n  /**\n   * The event emitted when this wizard substep is shown\n   */\n  @Output('onShow') onShow = new EventEmitter();\n\n  private defaultConfig = {\n    allowClickNav: true,\n    allowNavAway: true,\n    completed: false,\n    data: {},\n    disabled: false,\n    expandReview: true,\n    expandReviewDetails: false,\n    priority: 999,\n    nextEnabled: true,\n    okToNavAway: true,\n    previousEnabled: true,\n    title: ''\n  } as WizardStepConfig;\n  private prevConfig: WizardStepConfig;\n  private _selected: boolean = false;\n  private step: WizardStepComponent;\n\n  /**\n   * The default constructor\n   */\n  constructor(@Host() step: WizardStepComponent) {\n    this.step = step;\n  }\n\n  // Initialization\n\n  /**\n   *  Setup component configuration upon initialization\n   */\n  ngOnInit(): void {\n    this.setupConfig();\n\n    if (this.step !== undefined) {\n      this.step.config.allowClickNav = this.config.allowClickNav;\n      this.step.config.nextEnabled = this.config.nextEnabled;\n      this.step.config.allowNavAway = this.config.allowNavAway;\n      this.step.config.previousEnabled = this.config.previousEnabled;\n\n      this.step.addStep(this);\n    }\n  }\n\n  /**\n   *  Check if the component config has changed\n   */\n  ngDoCheck(): void {\n    // Do a deep compare on config\n    if (!isEqual(this.config, this.prevConfig)) {\n      this.setupConfig();\n    }\n  }\n\n  /**\n   * Set up default config\n   */\n  protected setupConfig(): void {\n    if (this.config !== undefined) {\n      defaults(this.config, this.defaultConfig);\n    } else {\n      this.config = cloneDeep(this.defaultConfig);\n    }\n    this.prevConfig = cloneDeep(this.config);\n  }\n\n  // Accessors\n\n  /**\n   * Indicates that this wizard substep is selected\n   *\n   * @returns {boolean} True if this wizard substep is selected\n   */\n  get selected(): boolean {\n    return this._selected;\n  }\n\n  /**\n   * Sets a flag indicating that this wizard substep is selected\n   *\n   * @param {boolean} selected True if this wizard substep is selected\n   */\n  set selected(selected: boolean) {\n    this._selected = selected;\n  }\n\n  // Methods\n\n  /**\n   * Emits an event when this wizard substep is shown\n   */\n  show(index: number) {\n    this.onShow.emit({\n      index: index,\n      step: this\n    } as WizardEvent);\n  }\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}