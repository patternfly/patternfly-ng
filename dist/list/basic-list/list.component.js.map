{"version":3,"sources":["../../../build/src/app/list/basic-list/list.component.ts"],"names":[],"mappings":"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","file":"list.component.js","sourceRoot":"","sourcesContent":["import {\n  Component,\n  DoCheck,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\n\nimport { cloneDeep, defaults, isEqual, uniqueId } from 'lodash';\n\nimport { ListBase } from '../list-base';\nimport { ListConfig } from './list-config';\nimport { ListEvent } from '../list-event';\n\n/**\n * List component\n *\n * For items, use a template named itemTemplate to contain content for each item. For each item in the items array, the\n * expansion can be disabled by setting disabled to true on the item. If using actions, use a template named\n * actionTemplate to contain expandable content for the actions of each item. If using expand items, use a template\n * named itemExpandedTemplate to contain expandable content for each item.\n *\n * Cannot use both multi-select and double click selection at the same time\n * Cannot use both checkbox and click selection at the same time\n *\n * Unique IDs are generated for each list item, which can be overridden by providing an id for the pfng-list tag.\n *\n * Usage:\n * <code><pre>\n * // Individual module import\n * import { ListModule } from 'patternfly-ng/list';\n * // Or\n * import { ListModule } from 'patternfly-ng';\n *\n * // NGX Bootstrap\n * import { BsDropdownConfig, BsDropdownModule } from 'ngx-bootstrap/dropdown';\n * import { TooltipConfig, TooltipModule } from 'ngx-bootstrap/tooltip';\n *\n * &#64;NgModule({\n *   imports: [ListModule, BsDropdownModule.forRoot(), TooltipModule.forRoot(),...],\n *   providers: [BsDropdownConfig, TooltipConfig]\n * })\n * export class AppModule(){}\n * </pre></code>\n *\n * Optional:\n * <code><pre>\n * import { ListConfig, ListEvent } from 'patternfly-ng/list';\n * </pre></code>\n */\n\nexport class ListComponent extends ListBase implements DoCheck, OnInit {\n  /**\n   * The name of the template containing action heading layout\n   */\n   actionHeadingTemplate: TemplateRef<any>;\n\n  /**\n   * The list config containing component properties\n   */\n   config: ListConfig;\n\n  /**\n   * The name of the template used to contain expandable content for each item\n   */\n   expandTemplate: TemplateRef<any>;\n\n  /**\n   * The name of the template containing item heading layout\n   */\n   itemHeadingTemplate: TemplateRef<any>;\n\n  /**\n   * The event emitted when an item pin has been changed\n   */\n   onPinChange = new EventEmitter();\n\n  private defaultConfig = {\n    dblClick: false,\n    hideClose: false,\n    multiSelect: false,\n    selectedItems: [],\n    selectionMatchProp: 'uuid',\n    selectItems: false,\n    showCheckbox: false,\n    showRadioButton: false,\n    useExpandItems: false\n  } as ListConfig;\n  private id: string = uniqueId('pfng-list');\n  private prevConfig: ListConfig;\n\n  /**\n   * The default constructor\n   */\n  constructor(private el: ElementRef) {\n    super();\n  }\n\n  // Initialization\n\n  /**\n   * Setup component configuration upon initialization\n   */\n  ngOnInit(): void {\n    this.setupConfig();\n  }\n\n  /**\n   * Check if the component config has changed\n   */\n  ngDoCheck(): void {\n    // Do a deep compare on config\n    if (!isEqual(this.config, this.prevConfig)) {\n      this.setupConfig();\n    }\n  }\n\n  /**\n   * Set up default config\n   */\n  protected setupConfig(): void {\n    if (this.config !== undefined) {\n      defaults(this.config, this.defaultConfig);\n    } else {\n      this.config = cloneDeep(this.defaultConfig);\n    }\n    super.setupConfig();\n    this.prevConfig = cloneDeep(this.config);\n  }\n\n  /**\n   * Return component config\n   *\n   * @returns {} ListConfig The component config\n   */\n  protected getConfig(): ListConfig {\n    return this.config;\n  }\n\n  /**\n   * Return an ID for the given element prefix and index (e.g., 'pfng-list1-item0')\n   *\n   * Note: The ID prefix can be overridden by providing an id for the pfng-list tag.\n   *\n   * @param {string} suffix The element suffix (e.g., 'item')\n   * @param {number} index The current item index\n   * @returns {string}\n   */\n  protected getId(suffix: string, index: number): string {\n    let result = this.id;\n    if (this.el.nativeElement.id !== undefined && this.el.nativeElement.id.length > 0) {\n      result = this.el.nativeElement.id;\n    }\n    return result + '-' + suffix + index;\n  }\n\n  // Toggle\n\n  private closeExpandItem(item: any): void {\n    item.expandId = undefined;\n    item.expanded = false;\n  }\n\n  /**\n   * Toggle expand item open/close\n   *\n   * @param {MouseEvent} $event The event emitted when an item has been clicked\n   * @param {Object} item The object associated with the current row\n   */\n  private toggleExpandItem($event: MouseEvent, item: any): void {\n    // Do nothing if item expansion is disabled\n    if (!this.config.useExpandItems) {\n      return;\n    }\n    // Do not trigger for child items, only on the DOM element to which the event is attached\n    if ($event.target !== $event.currentTarget) {\n      return;\n    }\n    // Item may already be open due to compound expansion\n    if (item.expanded && item.expandId !== undefined) {\n      item.expandId = undefined;\n      return;\n    }\n    item.expandId = undefined;\n    item.expanded = !item.expanded;\n  }\n\n  private togglePin($event: MouseEvent, item: any): void {\n    item.showPin = (item.showPin === undefined) ? true : !item.showPin;\n    this.onPinChange.emit({\n      item: item\n    } as ListEvent);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  encapsulation: ViewEncapsulation.None,\n  selector: 'pfng-list',\n  template: `<div class=\"list-pf\" *ngIf=\"!itemsEmpty\"><div class=\"list-pf-item pfng-list-heading {{item?.itemStyleClass}}\" *ngIf=\"itemHeadingTemplate || actionHeadingTemplate\"><div class=\"list-pf-container\"><div class=\"pfng-list-pin-placeholder\" *ngIf=\"config.usePinItems\"></div><div class=\"list-pf-chevron\" *ngIf=\"config.useExpandItems\"><div class=\"pfng-list-expand-placeholder\"></div></div><div class=\"list-pf-select\" *ngIf=\"config.showCheckbox || config.showRadioButton\"><div class=\"pfng-list-cb-placeholder\"></div></div><div class=\"list-pf-content list-pf-content-flex\"><div class=\"pfng-list-content\"><ng-template *ngIf=\"itemHeadingTemplate\" [ngTemplateOutlet]=\"itemHeadingTemplate\" [ngTemplateOutletContext]=\"{ item: item, index: i }\"></ng-template></div><div class=\"list-pf-actions\"><ng-template *ngIf=\"actionHeadingTemplate\" [ngTemplateOutlet]=\"actionHeadingTemplate\" [ngTemplateOutletContext]=\"{ item: item, index: i }\"></ng-template></div></div></div></div><div class=\"list-pf-item {{item?.itemStyleClass}}\" [ngClass]=\"{'active': item.selected || item.expanded}\" *ngFor=\"let item of (config.usePinItems ? (items | sortArray: 'showPin': true) : items); let i = index\"><div class=\"list-pf-container\" [id]=\"getId('item', i)\" (click)=\"toggleExpandItem($event, item)\"><div class=\"pfng-list-pin-container\" *ngIf=\"config.usePinItems\"><div class=\"pfng-list-pin-placeholder\" [ngClass]=\"{'multi-ctrls': config.useExpandItems || config.showCheckbox || config.showRadioButton}\" *ngIf=\"item.showPin !== true\"></div><div class=\"pfng-list-pin\" [ngClass]=\"{'multi-ctrls': config.useExpandItems || config.showCheckbox || config.showRadioButton}\" *ngIf=\"item.showPin === true\"><a href=\"javascript:void(0);\" tabindex=\"-1\" title=\"Remove pin\" (click)=\"togglePin($event, item)\"><span class=\"fa fa-thumb-tack\"></span></a></div></div><div class=\"list-pf-chevron pfng-list-expand\" *ngIf=\"config.useExpandItems\"><div class=\"pfng-list-expand-placeholder\" *ngIf=\"item.hideExpandToggle === true\"></div><span class=\"fa fa-angle-right\" *ngIf=\"item.hideExpandToggle !== true\" (click)=\"toggleExpandItem($event, item)\" [ngClass]=\"{'fa-angle-down': item.expanded && item.expandId === undefined}\"></span></div><div class=\"list-pf-select\" *ngIf=\"config.showCheckbox && !config.showRadioButton\"><input type=\"checkbox\" [id]=\"getId('checkbox', i)\" [(ngModel)]=\"item.selected\" (ngModelChange)=\"checkboxChange(item)\"></div><div class=\"list-pf-select\" *ngIf=\"!config.showCheckbox && config.showRadioButton\"><input type=\"radio\" [id]=\"getId('radio', i)\" [checked]=\"item.selected\" (click)=\"radioButtonChange(item)\"></div><div class=\"list-pf-content list-pf-content-flex\"><div class=\"pfng-list-content\" (click)=\"toggleSelection($event, item)\" (dblclick)=\"dblClick($event, item)\"><ng-template *ngIf=\"itemTemplate\" [ngTemplateOutlet]=\"itemTemplate\" [ngTemplateOutletContext]=\"{ item: item, index: i }\"></ng-template></div><div class=\"list-pf-actions\"><ng-template *ngIf=\"actionTemplate\" [ngTemplateOutlet]=\"actionTemplate\" [ngTemplateOutletContext]=\"{ item: item, index: i }\"></ng-template></div></div></div><div class=\"pfng-list-expansion list-pf-expansion collapse in\" *ngIf=\"expandTemplate && item.expanded\"><div class=\"list-pf-container\" tabindex=\"0\"><div class=\"list-pf-content\"><div class=\"close\" *ngIf=\"config.hideClose !== true\"><span class=\"pficon pficon-close\" (click)=\"closeExpandItem(item)\"></span></div><ng-template [ngTemplateOutlet]=\"expandTemplate\" [ngTemplateOutletContext]=\"{ item: item, index: i }\"></ng-template></div></div></div></div></div><pfng-empty-state *ngIf=\"itemsEmpty\" [config]=\"config.emptyStateConfig\" (onActionSelect)=\"handleAction($event)\"></pfng-empty-state>`\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'actionHeadingTemplate': [{ type: Input },],\n'config': [{ type: Input },],\n'expandTemplate': [{ type: Input },],\n'itemHeadingTemplate': [{ type: Input },],\n'onPinChange': [{ type: Output, args: ['onPinChange', ] },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}